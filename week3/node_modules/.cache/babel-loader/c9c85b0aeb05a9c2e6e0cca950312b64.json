{"ast":null,"code":"import _toConsumableArray from\"/Users/hongseohee/Emoticon-WorldCup/week3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/hongseohee/Emoticon-WorldCup/week3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router\";import WorldCupHeader from\"./WorldCupHeader\";import styledComponents from\"../styles/Content-style\";import{emoticonItems}from\"../assets/images/\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RoundHeader=WorldCupHeader.RoundHeader;var ContentWrapper=styledComponents.ContentWrapper,ContentImg=styledComponents.ContentImg,ContentName=styledComponents.ContentName,VersusDiv=styledComponents.VersusDiv;var WorldCupContent=function WorldCupContent(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),emoticons=_useState2[0],setEmoticons=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),displays=_useState4[0],setDisplays=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),winners=_useState6[0],setWinners=_useState6[1];var _useState7=useState([1,8]),_useState8=_slicedToArray(_useState7,2),round=_useState8[0],setRound=_useState8[1];var _useState9=useState(\"대결\"),_useState10=_slicedToArray(_useState9,2),title=_useState10[0],setTitle=_useState10[1];useEffect(function(){emoticonItems.sort(function(){return Math.random()-0.5;});setEmoticons(emoticonItems);setDisplays([emoticonItems[0],emoticonItems[1]]);},[]);var clickHandler=function clickHandler(emoticon){return function(event){event.target.classList.add(\"imageClick\");setTimeout(function(){event.target.classList.remove(\"imageClick\");if(emoticons.length>2){setWinners([].concat(_toConsumableArray(winners),[emoticon]));setDisplays([emoticons[2],emoticons[3]]);setEmoticons(emoticons.slice(2));setRound([round[0]+1,round[1]]);}else{if(winners.length===0){setDisplays([emoticon]);navigate(\"/result\",{state:emoticon});}else{var nextStepEmoticon=[].concat(_toConsumableArray(winners),[emoticon]);setEmoticons(nextStepEmoticon);setDisplays([nextStepEmoticon[0],nextStepEmoticon[1]]);setWinners([]);setRound([1,round[1]/2]);if(round[1]/2===2)setTitle(\"준결승\");if(round[1]/2===1)setTitle(\"결승\");}}},2000);};};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RoundHeader,{title:title,round:round}),/*#__PURE__*/_jsxs(ContentWrapper,{children:[displays.map(function(display){return/*#__PURE__*/_jsx(ContentImg,{imgUrl:display.url,onClick:clickHandler(display),children:/*#__PURE__*/_jsx(ContentName,{children:display.name},display.name)},display.name);}),/*#__PURE__*/_jsx(VersusDiv,{children:\"VS\"})]})]});};export default WorldCupContent;","map":{"version":3,"sources":["/Users/hongseohee/Emoticon-WorldCup/week3/src/components/WorldCupContent.jsx"],"names":["React","useState","useEffect","useNavigate","WorldCupHeader","styledComponents","emoticonItems","RoundHeader","ContentWrapper","ContentImg","ContentName","VersusDiv","WorldCupContent","navigate","emoticons","setEmoticons","displays","setDisplays","winners","setWinners","round","setRound","title","setTitle","sort","Math","random","clickHandler","emoticon","event","target","classList","add","setTimeout","remove","length","slice","state","nextStepEmoticon","map","display","url","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport WorldCupHeader from \"./WorldCupHeader\";\nimport styledComponents from \"../styles/Content-style\";\nimport { emoticonItems } from \"../assets/images/\";\nconst { RoundHeader } = WorldCupHeader;\nconst { ContentWrapper, ContentImg, ContentName, VersusDiv } = styledComponents;\n\nconst WorldCupContent = () => {\n  const navigate = useNavigate();\n  const [emoticons, setEmoticons] = useState([]);\n  const [displays, setDisplays] = useState([]);\n  const [winners, setWinners] = useState([]);\n  const [round, setRound] = useState([1, 8]);\n  const [title, setTitle] = useState(\"대결\");\n\n  useEffect(() => {\n    emoticonItems.sort(() => Math.random() - 0.5);\n    setEmoticons(emoticonItems);\n    setDisplays([emoticonItems[0], emoticonItems[1]]);\n  }, []);\n  const clickHandler = (emoticon) => (event) => {\n    event.target.classList.add(\"imageClick\");\n    setTimeout(() => {\n      event.target.classList.remove(\"imageClick\");\n      if (emoticons.length > 2) {\n        setWinners([...winners, emoticon]);\n        setDisplays([emoticons[2], emoticons[3]]);\n        setEmoticons(emoticons.slice(2));\n        setRound([round[0] + 1, round[1]]);\n      } else {\n        if (winners.length === 0) {\n          setDisplays([emoticon]);\n          navigate(\"/result\", { state: emoticon });\n        } else {\n          const nextStepEmoticon = [...winners, emoticon];\n          setEmoticons(nextStepEmoticon);\n          setDisplays([nextStepEmoticon[0], nextStepEmoticon[1]]);\n          setWinners([]);\n          setRound([1, round[1] / 2]);\n          if (round[1] / 2 === 2) setTitle(\"준결승\");\n          if (round[1] / 2 === 1) setTitle(\"결승\");\n        }\n      }\n    }, 2000);\n  };\n\n  return (\n    <>\n      <RoundHeader title={title} round={round}></RoundHeader>\n      <ContentWrapper>\n        {displays.map((display) => {\n          return (\n            <ContentImg\n              key={display.name}\n              imgUrl={display.url}\n              onClick={clickHandler(display)}\n            >\n              <ContentName key={display.name}>{display.name}</ContentName>\n            </ContentImg>\n          );\n        })}\n        <VersusDiv>VS</VersusDiv>\n      </ContentWrapper>\n    </>\n  );\n};\nexport default WorldCupContent;\n"]},"metadata":{},"sourceType":"module"}